# =========================================================
# PROFILE: DEFAULT
#
# PURPOSE:
# - Ambiente padrão de execução local
# - Comportamento idêntico ao que será PRODUÇÃO no futuro
# - Conecta ao PostgreSQL via Docker
# - Executa seed de dados para testes manuais e automatizados
#
# IMPORTANT:
# - As configurações abaixo DEVEM ser futuramente movidas
#   para o profile 'prod', com os devidos ajustes
#   (host, credenciais, segurança, seed, etc.)
# =========================================================

# ---------------------------------------------------------
# DATASOURCE - PostgreSQL (Docker local)
# ---------------------------------------------------------
spring.datasource.url=jdbc:postgresql://localhost:5432/liaprove
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# ---------------------------------------------------------
# JPA / HIBERNATE
# ---------------------------------------------------------
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false

# Necessário para garantir que o schema JPA exista antes do seed
spring.jpa.defer-datasource-initialization=true

# ---------------------------------------------------------
# SQL INITIALIZATION (SEED DATA)
# ---------------------------------------------------------
# ATENÇÃO:
# - Ativo apenas enquanto NÃO há produção real
# - Será desabilitado no profile 'prod'
spring.sql.init.mode=always
spring.sql.init.data-locations=\
classpath:db/populate-users.sql,\
classpath:db/populate-questions.sql

# ---------------------------------------------------------
# SECURITY / JWT
# ---------------------------------------------------------
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION}
