# =========================================================
# PROFILE: DEFAULT
#
# PURPOSE:
# - Default local execution environment
# - Same behavior expected for future PROD
# - Connects to PostgreSQL using Docker
# - Executes seed data for manual and automated tests
#
# IMPORTANT:
# - The configs below MUST be moved in the future
#   to the 'prod' profile, with proper adjustments
#   (host, credentials, security, seed, etc.)
# =========================================================

# ---------------------------------------------------------
# DATASOURCE - PostgreSQL (Local Docker)
# ---------------------------------------------------------
spring.datasource.url=jdbc:postgresql://localhost:5432/liaprove
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# ---------------------------------------------------------
# JPA / HIBERNATE
# ---------------------------------------------------------
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=create
spring.jpa.show-sql=false

# Required to ensure JPA schema exists before running seed scripts
spring.jpa.defer-datasource-initialization=true

# ---------------------------------------------------------
# SQL INITIALIZATION (SEED DATA)
# ---------------------------------------------------------
# WARNING:
# - Enabled only while there is no real PROD environment
# - Will be disabled in the 'prod' profile
spring.sql.init.mode=always
spring.sql.init.data-locations=\
classpath:db/populate-users.sql,\
classpath:db/populate-questions.sql

# ---------------------------------------------------------
# SECURITY / JWT
# ---------------------------------------------------------
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION}
